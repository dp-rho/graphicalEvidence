* using log directory 'C:/Users/dprow/gitrepos/graphicalEvidence/..Rcheck'
* using R version 4.2.2 (2022-10-31 ucrt)
* using platform: x86_64-w64-mingw32 (64-bit)
* using session charset: UTF-8
* using option '--as-cran'
* checking for file './DESCRIPTION' ... OK
* checking extension type ... Package
* this is package 'graphicalEvidence' version '1.0'
* checking CRAN incoming feasibility ... NOTE
Maintainer: 'David Rowe <david@rowe-stats.com>'

New submission

The Date field is over a month old.

The build time stamp is missing.
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... WARNING
Subdirectory 'graphicalEvidence/src' contains apparent object files/libraries
  FunctionTimer.o GammaSampler.o RcppExports.o calc_eq_11.o calc_eq_9.o
  efficient_inv_omega_11_calc.o gigrnd.o global_storage.o
  graphicalEvidence.dll initialize_indices.o inject_random.o
  looping_dmvnrm_arma.o mcmc_hw.o mcmc_hw_rmatrix.o mcmc_last_col.o
  mcmc_last_col_rmatrix.o sample_omega_hw.o sample_omega_hw_rmatrix.o
  sample_omega_last_col.o sample_omega_last_col_rmatrix.o set_cores.o
  set_seed.o solve_mu_reduced_hw.o update_omega_inplace.o
  update_sigma_inplace.o
Object files/libraries should not be included in a source package.
* checking if there is a namespace ... OK
* checking for executable files ... WARNING
Found the following executable file:
  src/graphicalEvidence.dll
Source packages should not contain undeclared executable files.
See section 'Package structure' in the 'Writing R Extensions' manual.
* checking for hidden files and directories ... NOTE
Found the following hidden files and directories:
  .Rhistory
  .gitignore
  ..Rcheck
  .git
These were most likely included in error. See section 'Package
structure' in the 'Writing R Extensions' manual.

CRAN-pack does not know about
  ..Rcheck
  .git
* checking for portable file names ... OK
* checking serialization versions ... OK
* checking whether package 'graphicalEvidence' can be installed ... [11s] NOTE
Found the following notes/warnings:
  Non-staged installation was used
See 'C:/Users/dprow/gitrepos/graphicalEvidence/..Rcheck/00install.out' for details.
* checking installed package size ... NOTE
  installed size is 41.7Mb
  sub-directories of 1Mb or more:
    libs         40.5Mb
    test_params   1.1Mb
* checking package directory ... OK
* checking for future file timestamps ... OK
* checking DESCRIPTION meta-information ... NOTE
Checking should be performed on sources prepared by 'R CMD build'.
* checking top-level files ... NOTE
Files 'README.md' or 'NEWS.md' cannot be checked without 'pandoc' being installed.
File
  LICENSE
is not mentioned in the DESCRIPTION file.
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... WARNING
Found the following directory with the name of a check directory:
  ./..Rcheck
Most likely, these were included erroneously.
Found the following directory with the name of a version control directory:
  ./.git
These should not be in a package tarball.
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking use of S3 registration ... OK
* checking dependencies in R code ... WARNING
'::' or ':::' import not declared from: 'mvtnorm'
Namespace in Imports field not imported from: 'RcppXsimd'
  All declared Imports should be used.
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... NOTE
test_BGL: warning in evidence(xx = params$X_mat, burnin = 1000, nmc =
  5000, prior_name = "BGL", run = num_runs, lambda = 5, print_progress
  = TRUE): partial argument match of 'run' to 'runs'
test_GHS: warning in evidence(xx = params$X_mat, burnin = 1000, nmc =
  5000, prior_name = "GHS", run = num_runs, lambda = (1/140)): partial
  argument match of 'run' to 'runs'
test_G_Wishart: warning in evidence(xx = params$X_mat, burnin = 2000,
  nmc = 10000, prior_name = "G_Wishart", run = num_runs, alpha = 2, V =
  params$scale_mat, G = params$g_mat): partial argument match of 'run'
  to 'runs'
test_Wishart: warning in evidence(xx = params$X_mat, burnin = 1000, nmc
  = 5000, prior_name = "Wishart", run = num_runs, alpha = 7, V =
  params$scale_mat, ): partial argument match of 'run' to 'runs'
evidence: no visible global function definition for 'var'
gen_params_BGL: no visible global function definition for 'read.csv'
gen_params_GHS: no visible global function definition for 'read.csv'
gen_params_G_Wishart: no visible global function definition for
  'read.csv'
gen_params_Wishart: no visible global function definition for
  'read.csv'
gigrnd: no visible global function definition for 'runif'
gigrnd_debug: no visible global function definition for 'runif'
graphical_evidence_G_Wishart: no visible global function definition for
  'dnorm'
graphical_evidence_G_Wishart: no visible global function definition for
  'dgamma'
graphical_evidence_rmatrix: no visible global function definition for
  'dnorm'
graphical_evidence_rmatrix: no visible global function definition for
  'rgamma'
graphical_evidence_rmatrix: no visible global function definition for
  'dgamma'
graphical_evidence_rmatrix: no visible global function definition for
  'rexp'
prior_sampling_G_Wishart: no visible global function definition for
  'rgamma'
prior_sampling_G_Wishart: no visible global function definition for
  'rnorm'
test_BGL: no visible global function definition for 'hist'
test_GHS: no visible global function definition for 'hist'
test_G_Wishart: no visible global function definition for 'hist'
test_Wishart: no visible global function definition for 'hist'
Undefined global functions or variables:
  dgamma dnorm hist read.csv rexp rgamma rnorm runif var
Consider adding
  importFrom("graphics", "hist")
  importFrom("stats", "dgamma", "dnorm", "rexp", "rgamma", "rnorm",
             "runif", "var")
  importFrom("utils", "read.csv")
to your NAMESPACE file.
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd line widths ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... WARNING
Undocumented code objects:
  'G_wishart_Hao_wang' 'G_wishart_last_col_fixed' 'bind_random_samples'
  'bind_random_samples_rmatrix' 'dpsi' 'fun_g' 'g_time_env'
  'gen_params_BGL' 'gen_params_GHS' 'gen_params_G_Wishart'
  'gen_params_Wishart' 'gigrnd' 'gigrnd_debug'
  'graphical_evidence_G_Wishart' 'graphical_evidence_rmatrix'
  'logmvgamma' 'mcmc_hw' 'mcmc_hw_rmatrix' 'mcmc_last_col'
  'mcmc_last_col_rmatrix' 'package_dir' 'print_times'
  'prior_sampling_G_Wishart' 'psi' 'reset_times' 'rgamma_compiled'
  'rmatrix_Hao_Wang' 'rmatrix_last_col_fixed' 'set_cores' 'set_seed'
  'test_BGL' 'test_GHS' 'test_G_Wishart' 'test_Wishart'
All user-level objects in a package should have documentation entries.
See chapter 'Writing R documentation files' in the 'Writing R
Extensions' manual.
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking line endings in C/C++/Fortran sources/headers ... NOTE
Found the following sources/headers with CR or CRLF line endings:
  src/FunctionTimer.cpp
  src/FunctionTimer.h
  src/GammaSampler.cpp
  src/GammaSampler.h
  src/RcppExports.cpp
  src/calc_eq_11.cpp
  src/calc_eq_9.cpp
  src/efficient_inv_omega_11_calc.cpp
  src/gigrnd.cpp
  src/global_storage.cpp
  src/global_storage.h
  src/graphical_evidence.h
  src/inject_random.cpp
  src/inject_random.h
  src/looping_dmvnrm_arma.cpp
  src/looping_dmvnrm_arma.h
  src/mcmc_hw.cpp
  src/mcmc_hw_rmatrix.cpp
  src/mcmc_last_col.cpp
  src/mcmc_last_col_rmatrix.cpp
  src/prototypes.h
  src/sample_omega_hw.cpp
  src/sample_omega_hw_rmatrix.cpp
  src/sample_omega_last_col.cpp
  src/sample_omega_last_col_rmatrix.cpp
  src/set_cores.cpp
  src/set_seed.cpp
  src/simd_intrinsics.h
  src/solve_mu_reduced_hw.cpp
  src/update_omega_inplace.cpp
  src/update_sigma_inplace.cpp
Some Unix compilers require LF line endings.
* checking line endings in Makefiles ... WARNING
Found the following Makefile(s) with CR or CRLF line endings:
  src/Makevars
Some Unix 'make' programs require LF line endings.
* checking compilation flags in Makevars ... WARNING
Non-portable flags in variable 'PKG_CXXFLAGS':
  -msse -msse2 -msse3 -mssse3 -msse4.1 -msse4.2 -mavx -mavx2
* checking for GNU extensions in Makefiles ... WARNING
Found the following file(s) containing GNU extensions:
  src/Makevars
Portable Makefiles do not use GNU extensions such as +=, :=, $(shell),
$(wildcard), ifeq ... endif, .NOTPARALLEL See section 'Writing portable
packages' in the 'Writing R Extensions' manual.
* checking for portable use of $(BLAS_LIBS) and $(LAPACK_LIBS) ... OK
* checking use of PKG_*FLAGS in Makefiles ... OK
* checking use of SHLIB_OPENMP_*FLAGS in Makefiles ... OK
* checking pragmas in C/C++ headers and code ... OK
* checking compilation flags used ... OK
* checking compiled code ... WARNING
File 'graphicalEvidence/libs/x64/graphicalEvidence.dll':
  Found '_ZSt4cout', possibly from 'std::cout' (C++)
    Objects: 'FunctionTimer.o', 'solve_mu_reduced_hw.o'
  Found 'abort', possibly from 'abort' (C), 'runtime' (Fortran)
    Object: 'RcppExports.o'

Compiled code should not call entry points which might terminate R nor
write to stdout/stderr instead of to the console, nor use Fortran I/O
nor system RNGs.

See 'Writing portable packages' in the 'Writing R Extensions' manual.
* checking examples ... ERROR
Running examples in 'graphicalEvidence-Ex.R' failed
The error most likely occurred in:

> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: evidence
> ### Title: Compute Marginal Likelihood using Graphical Evidence
> ### Aliases: evidence
> 
> ### ** Examples
> 
> # Compute the marginal 10 times with random column permutations of xx at each
> # individual run for G-Wishart prior using 2,000 burnin and 10,000 sampled
> # values at each call to the MCMC sampler
> marginal_results <- evidence(
+   xx, 2e3, 1e4, 'G_Wishart', 10, alpha=input_alpha, V=input_V, G=input_G
+ )
Error in as.matrix(xx) : object 'xx' not found
Calls: evidence -> as.matrix
Execution halted
* checking PDF version of manual ... WARNING
LaTeX errors when creating PDF version.
This typically indicates Rd problems.
LaTeX errors found:
* checking PDF version of manual without index ... ERROR
* checking HTML version of manual ... OK
* checking for non-standard things in the check directory ... NOTE
Found the following files/directories:
  'graphicalEvidence-manual.tex'
* checking for detritus in the temp directory ... OK
* DONE
Status: 2 ERRORs, 10 WARNINGs, 9 NOTEs
